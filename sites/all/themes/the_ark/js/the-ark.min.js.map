{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js-src/the-ark.js","js-src/behaviors/calendar.js","js-src/behaviors/columned-text.js","js-src/behaviors/events-upcoming.js","js-src/behaviors/expandable-details.js","js-src/behaviors/expander.js","js-src/behaviors/footer-contact.js","js-src/behaviors/header-navigation-primary.js","js-src/behaviors/header-search.js","js-src/behaviors/tabs.js","js-src/behaviors/video.js","js-src/config/facebook.js","js-src/config/headroom.js","js-src/config/twitter.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"the-ark.min.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n *\n *   sdSS_SSSSSSbs   .S    S.     sSSs         .S_SSSs     .S_sSSs     .S    S.\n *   YSSS~S%SSSSSP  .SS    SS.   d%%SP        .SS~SSSSS   .SS~YS%%b   .SS    SS.\n *        S%S       S%S    S%S  d%S'          S%S   SSSS  S%S   `S%b  S%S    S&S\n *        S%S       S%S    S%S  S%S           S%S    S%S  S%S    S%S  S%S    d*S\n *        S&S       S%S SSSS%S  S&S           S%S SSSS%S  S%S    d*S  S&S   .S*S\n *        S&S       S&S  SSS&S  S&S_Ss        S&S  SSS%S  S&S   .S*S  S&S_sdSSS\n *        S&S       S&S    S&S  S&S~SP        S&S    S&S  S&S_sdSSS   S&S~YSSY%b\n *        S&S       S&S    S&S  S&S           S&S    S&S  S&S~YSY%b   S&S    `S%\n *        S*S       S*S    S*S  S*b           S*S    S&S  S*S   `S%b  S*S     S%\n *        S*S       S*S    S*S  S*S.          S*S    S*S  S*S    S%S  S*S     S&\n *        S*S       S*S    S*S   SSSbs        S*S    S*S  S*S    S&S  S*S     S&\n *        S*S       SSS    S*S    YSSP        SSS    S*S  S*S    SSS  S*S     SS\n *        SP               SP                        SP   SP          SP\n *        Y                Y                         Y    Y           Y\n *             _                                         _        _ _\n *            | |                                       (_)      | (_)\n *   __      _| |__   ___ _ __ ___   _ __ ___  _   _ ___ _  ___  | |___   _____  ___\n *   \\ \\ /\\ / / '_ \\ / _ \\ '__/ _ \\ | '_ ` _ \\| | | / __| |/ __| | | \\ \\ / / _ \\/ __|\n *    \\ V  V /| | | |  __/ | |  __/ | | | | | | |_| \\__ \\ | (__  | | |\\ V /  __/\\__ \\\n *     \\_/\\_/ |_| |_|\\___|_|  \\___| |_| |_| |_|\\__,_|___/_|\\___| |_|_| \\_/ \\___||___/\n *\n */\n/*\n  Browserify/Uglify Generated JavaScript for the Ark -- https://github.com/qltd/the-ark\n\n  - compile while in .npm directory (sites/all/themes/the_ark/.npm)           : gulp js\n  - watch for changes while in .npm directory (sites/all/themes/the_ark/.npm) : gulp watch\n*/\n\n/**\n * Configuration\n */\nrequire('./config/facebook');\nrequire('./config/headroom');\nrequire('./config/twitter');\n\n/**\n * Components\n */\nrequire('./behaviors/calendar');\nrequire('./behaviors/columned-text');\nrequire('./behaviors/expandable-details');\nrequire('./behaviors/events-upcoming');\nrequire('./behaviors/expander');\nrequire('./behaviors/footer-contact');\nrequire('./behaviors/header-navigation-primary');\nrequire('./behaviors/header-search');\nrequire('./behaviors/tabs');\nrequire('./behaviors/video');\n","(function ($) {\n\n  function togglePastEventsText (action) {\n    return 'Click to ' + action + ' Past Events';\n  }\n\n  Drupal.behaviors.theArkCalendar = {\n    attach: function () {\n      var container = $('.calendar-body');\n      if (container.length === 0) return;\n\n      var dateNav = $('.date-nav').clone();\n      dateNav.children('.date-heading').remove();\n      container.append(dateNav);\n\n      var today = container.find('.today');\n      if (today.length === 0) return;\n\n      var past = container.find('.past');\n      if (past.length === 0) return;\n\n      var toggleContainer = $('<div class=\"show-past-toggle-container\"></div>')\n        , toggle = $('<a class=\"show-past-toggle\" role=\"button\"></div>');\n\n      toggle.text(togglePastEventsText('Show'));\n      toggleContainer.append(toggle);\n      container.prepend(toggleContainer);\n      past.addClass('past-hidden');\n\n      toggle.on('tap', function () {\n        if (past.hasClass('past-hidden')) {\n          past.removeClass('past-hidden');\n          toggle.text(togglePastEventsText('Hide'));\n        } else {\n          past.addClass('past-hidden');\n          toggle.text(togglePastEventsText('Show'));\n        }\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkColumnedText = {\n    attach: function () {\n      var item = $('.columned-text-item');\n      if (item.length === 0) return;\n\n      var headings = item.find('h3, h4, h5, h6');\n      headings.each(function (index) {\n        var self = $(this)\n          , sibling = self.next();\n\n        if (!sibling.length) return;\n        var replacement = $('<div class=\"title-content-pair\"></div>').html(self.clone());\n        replacement.append(sibling.clone());\n        sibling.after(replacement);\n        self.remove();\n        sibling.remove();\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n\n  function toggleUpcomingEventsText (action) {\n    return 'Click to ' + action + ' More Upcoming Events';\n  }\n\n  Drupal.behaviors.theArkEventsUpcoming = {\n    attach: function () {\n      var container = $('.events-upcoming-view')\n        , events = $('.calendar-column').not('.first');\n      if (container.length === 0 || events.length === 0) return;\n\n      var toggleContainer = $('<div class=\"show-upcoming-toggle-container\"></div>')\n        , toggle = $('<a class=\"show-upcoming-toggle\" role=\"button\"></div>');\n\n      toggle.text(toggleUpcomingEventsText('Show'));\n      toggleContainer.append(toggle);\n      container.append(toggleContainer);\n      events.addClass('upcoming-hidden');\n\n      toggle.on('tap', function () {\n        if (events.hasClass('upcoming-hidden')) {\n          events.removeClass('upcoming-hidden');\n          toggle.text(toggleUpcomingEventsText('Hide'));\n        } else {\n          events.addClass('upcoming-hidden');\n          toggle.text(toggleUpcomingEventsText('Show'));\n        }\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n\n  function expandableDetailsToggle (elem) {\n    var parent = elem.parents('.expandable-details-item')\n      , expander = parent.find('.expandable-details-expander')\n      , expanderLabel = expander.length && expander.attr('data-expander-label') ?\n          expander.attr('data-expander-label') :\n          'Item';\n\n    if (parent.hasClass('expandable-details-item-collapsed'))\n      expander.text('Close ' + expanderLabel);\n    else\n      expander.text('View ' + expanderLabel);\n\n    parent.toggleClass('expandable-details-item-collapsed');\n  }\n\n  Drupal.behaviors.theArkExpandableDetails = {\n    attach: function () {\n      var expanders = $('.expandable-details-title, .expandable-details-expander')\n        , items = $('.expandable-details-item');\n\n      if (!expanders.length || !items.length) return;\n\n      $('.expandable-details-expander').each(function (index, expander) {\n        expandableDetailsToggle($(expander));\n      });\n\n      expanders.on('tap', function () {\n        expandableDetailsToggle($(this));\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkExpander = {\n    attach: function () {\n      var expanders = $('.expander');\n      if (expanders.length === 0) return;\n\n      expanders.addClass('expander-collapsed');\n      expanders.on('tap', function () {\n        $(this).toggleClass('expander-collapsed');\n        Drupal.behaviors.theArkVideo.attach();\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkFooterContact = {\n    attach: function () {\n      var block = $('.footer-contact')\n        , phoneNumbers = $('.footer-contact .phone');\n      if (block.length === 0 || phoneNumbers.length === 0) return;\n\n      phoneNumbers.each(function () { // ensure href for each phone link points to the correct phone number\n        var number = $(this).text();\n        if (!number) return;\n        $(this).attr('href', 'tel:+' + number.replace(/\\D/g,''));\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkHeaderNavigationPrimary = {\n    attach: function () {\n      var body = $('body')\n        , wrapper = $('.menu-primary-wrapper')\n        , navigation = $('.menu-primary-wrapper > .menu')\n        , toggle = $('.header-navigation-primary .block__title')\n        , buttonClose = $('.menu-primary-close');\n      if (wrapper.length === 0 || navigation.length === 0) return;\n\n      var toggleClasses = function (method) {\n        body[method]('document-modal-mobile');\n        toggle[method]('active');\n        wrapper[method]('menu-flyout-visible');\n        switch (method) {\n          case 'addClass':\n            toggle.off('tap');\n\n            $(document).on('touchmove', function (e) {\n              e.preventDefault();\n            });\n            navigation.on('touchmove', function (e) {\n              e.stopPropagation();\n            });\n            buttonClose.on('tap', function () {\n              toggleClasses('removeClass');\n            });\n\n            break;\n          case 'removeClass':\n            $(document).off('touchmove');\n            navigation.off('touchmove');\n            buttonClose.off('tap');\n\n            defaultListeners();\n            break;\n        }\n      };\n\n      var defaultListeners = function () {\n        toggle.on('tap', function () {\n          toggleClasses('addClass');\n        });\n      };\n      defaultListeners();\n\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkHeaderSearch = {\n    attach: function () {\n      var block = $('.header-search')\n        , doc = $(document)\n        , form = $('.header-search .search-block-form')\n        , submit = $('.header-search .form-submit')\n        , text = $('.header-search .form-text')\n        , textContainer = $('.header-search .form-type-textfield');\n\n      if (block.length === 0) return;\n\n      submit.on('tap', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (textContainer.hasClass('form-type-textfield-active')) {\n          textContainer.removeClass('form-type-textfield-active');\n        } else {\n          textContainer.addClass('form-type-textfield-active');\n          text.focus();\n\n          doc.on('tap', function (event) {\n            textContainer.removeClass('form-type-textfield-active');\n            doc.off('tap');\n          });\n        }\n      });\n\n      submit.on('click', function (event) {\n        event.preventDefault();\n        if (text.val()) form.submit();\n        else if (textContainer.hasClass('form-type-textfield-active')) text.focus();\n      });\n\n      text.on('tap', function (event) {\n        event.stopPropagation();\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  function tabToggle (tabId, containers, toggles) {\n    toggles.removeClass('tab-toggle-active');\n    containers.removeClass('tab-container-active');\n\n    toggles.filter('[data-tab-toggle-id=\"' + tabId + '\"]').addClass('tab-toggle-active');\n    containers.filter('[data-tab-id=\"'+ tabId +'\"]').addClass('tab-container-active');\n  }\n\n  Drupal.behaviors.theArkTabs = {\n    attach: function () {\n      var containers = $('.tab-container')\n        , toggles = $('.tab-toggle');\n      if (containers.length === 0 || toggles.length === 0) return;\n\n      tabToggle($(toggles[0]).attr('data-tab-toggle-id'), containers, toggles);\n\n      toggles.on('click', function (e) {\n        e.preventDefault();\n      });\n\n      toggles.on('tap', function () {\n        var tabId = $(this).attr('data-tab-toggle-id');\n        if (!tabId) return;\n        tabToggle(tabId, containers, toggles);\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  var resizeMedia = function (videos) {\n    var i = videos.length;\n    while (i--) {\n      var width = parseInt(videos[i].width || 0)\n        , height = parseInt(videos[i].height || 0)\n        , offsetWidth = parseInt(videos[i].offsetWidth || 0);\n      if (height > 0 && width > 0 && offsetWidth > 0 && offsetWidth !== width)\n        $(videos[i]).css('height', (( height * offsetWidth ) / width ) + 'px');\n      else\n        $(videos[i]).removeAttr('style');\n    }\n  };\n\n  Drupal.behaviors.theArkVideo = {\n    attach: function () {\n      var videos = $('.media-youtube-player, .media-vimeo-player');\n      if (videos.length === 0) return;\n\n      $(window).on('resize', function () {\n        resizeMedia(videos);\n      });\n      resizeMedia(videos);\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkFacebookConfig = {\n    attach: function () {\n      var button = $('.facebook-share');\n      if (button.length === 0) return;\n\n      button.click(function (e) {\n        e.preventDefault();\n        if (!FB) return;\n        var element = $(this);\n\n        FB.ui({\n          method: 'feed',\n          link: element.prop('href'),\n          picture: element.data('image'),\n          name: element.data('title'),\n          description: element.data('description')\n        }, function (response) {});\n\n        return false;\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkHeadroomJSConfig = {\n    attach: function () {\n      var header = $('.l-regionwrapper--header')\n        , social = $('.sidebar-navigation .menu');\n      if (header.length === 0 || !Headroom) return;\n      header.removeClass('no-js');\n      social.addClass('menu-hidden');\n\n\n      Headroom.options = Headroom.options || {};\n      if ($('.front').length === 0) Headroom.options.offset = 40;\n      else Headroom.options.offset = 200;\n\n      Headroom.options.onTop = function () {\n        social.addClass('menu-hidden');\n      };\n      Headroom.options.onNotTop = function () {\n        social.removeClass('menu-hidden');\n      };\n\n      header.headroom();\n    }\n  };\n})(jQuery);\n","(function ($) {\n  Drupal.behaviors.theArkTwitterConfig = {\n    attach: function () {\n      var button = $('.twitter-tweet');\n      if (button.length === 0) return;\n\n      button.click(function (e) {\n        e.preventDefault();\n        var width = 575\n          , height = 250\n          , left = ($(window).width()  - width)  / 2\n          , top = ($(window).height() - height) / 2\n          , url = $(this).prop('href')\n          , opts = 'status=1' + ',width=' + width + ',height=' + height + ',top=' + top +',left=' + left;\n\n        window.open(url, 'twitter', opts);\n        return false;\n      });\n    }\n  };\n})(jQuery);\n"]}